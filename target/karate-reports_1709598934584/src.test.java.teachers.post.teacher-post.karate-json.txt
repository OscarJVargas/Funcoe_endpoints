{"failedCount":1,"prefixedPath":"src\/test\/java\/teachers\/post\/teacher-post.feature","packageQualifiedName":"src.test.java.teachers.post.teacher-post","loopIndex":-1,"relativePath":"src\/test\/java\/teachers\/post\/teacher-post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1374332100,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9\nsrc\/test\/java\/teachers\/post\/teacher-post.feature:4","millis":1374.3321,"status":"failed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"call read(\"..\/..\/user\/token\/users-token-post.feature@token\")"},"stepLog":"19:35:27.679 src\/test\/java\/teachers\/post\/teacher-post.feature:4\n* call read(\"..\/..\/user\/token\/users-token-post.feature@token\")\nstatus code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9\nsrc\/test\/java\/teachers\/post\/teacher-post.feature:4\n","callResults":[{"failedCount":1,"prefixedPath":"src\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature","packageQualifiedName":"src.test.java.teachers.post.user.token.users-token-post","loopIndex":-1,"relativePath":"src\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4622000,"millis":4.622,"status":"passed"},"step":{"line":6,"prefix":"Given","index":0,"text":"url \"https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/\""}},{"result":{"nanos":42993900,"millis":42.9939,"status":"passed"},"step":{"line":7,"prefix":"And","index":1,"text":"request {\"user\": \"ruben1\", \"password\": \"ruben123\"}"}},{"result":{"nanos":1097691800,"millis":1097.6918,"status":"passed"},"step":{"line":8,"prefix":"When","index":2,"text":"method post"},"stepLog":"19:35:26.977 request:\n1 > POST https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: funcoeback-dev-ceqh.3.us-1.fl0.io\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/21.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"user\":\"ruben1\",\"password\":\"ruben123\"}\n\n19:35:27.659 response time in milliseconds: 680\n1 < 500\n1 < date: Tue, 05 Mar 2024 00:35:27 GMT\n1 < server: envoy\n1 < content-length: 9403\n1 < content-type: text\/plain; charset=utf-8\n1 < x-envoy-upstream-service-time: 7\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\n\n"},{"result":{"nanos":14777200,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9","millis":14.7772,"status":"failed"},"step":{"line":9,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"19:35:27.675 src\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":10,"prefix":"*","index":4,"text":"def token = $.access_token"}}],"line":5,"description":"","durationMillis":1160.0849,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9","tags":["token"],"executorName":"main","name":"Post a token","startTime":1709598926512,"refId":"[1:5]","endTime":1709598927675,"exampleIndex":-1}],"callDepth":1,"name":"JWT Token Feature","description":"","resultDate":"2024-03-04 07:35:27 p.\u202Fm.","durationMillis":1160.0849,"passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Authorization = \"Bearer \" + token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"print token"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"Given","index":0,"text":"url \"https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/teacher\/\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"And","index":1,"text":"request {\"document_type_uuid\": \"09359aab-7354-47c0-ae6b-60d71aea3f08\", \"identification_card\": \"#(randomidcard)\", \"first_name\": \"#(randomname)\",  \"last_name\": \"#(randomlastname)\",  \"blood_type_uuid\": \"6f454a83-4201-44e3-b7cf-99ba07464519\",  \"gender_uuid\": \"20be8f69-c198-467c-89be-ee18a7af8b9b\",  \"phone\": \"#(randomphone)\",  \"user\": \"#(randomnameuser)\",  \"password\": \"#(randompassworduser)\", \"program_uuid\": \"50ae87d2-09de-4a87-aeca-a4236d9a602b\"}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"When","index":2,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"*","index":4,"text":"def teacherId = $.uuid_teacher"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"*","index":5,"text":"print \" se a creado la identificacion del profesor# \" + teacherId"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"*","index":6,"text":"def idcard = $.identification_card"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"*","index":7,"text":"print \" la cedula del profesor es la # \" + idcard"}}],"line":13,"description":"","durationMillis":1374.3321,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 680, url: https:\/\/funcoeback-dev-ceqh.3.us-1.fl0.io\/users\/token\/, response: \nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\npymysql.err.OperationalError: (2013, 'Lost connection to MySQL server during query')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/middleware\/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 782, in app\n    await route.handle(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/routing.py\", line 72, in app\n    response = await func(request)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 299, in app\n    raise e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/fastapi\/routing.py\", line 193, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/starlette\/concurrency.py\", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 2134, in run_sync_in_worker_thread\n    return await future\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/anyio\/_backends\/_asyncio.py\", line 851, in run\n    result = context.run(func, *args)\n  File \"\/workspace\/app\/routes\/user.py\", line 19, in get_token\n    if validate_user(user):\n  File \"\/workspace\/app\/func\/user.py\", line 22, in validate_user\n    id_user = get_uuid_user(data.user)\n  File \"\/workspace\/app\/func\/user.py\", line 37, in get_uuid_user\n    r1=db.query(user_model).where(user_model.user==user).one()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2308, in execute\n    return self._execute_internal(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/orm\/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1416, in execute\n    return meth(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/sql\/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/sqlalchemy\/engine\/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/cursors.py\", line 322, in _query\n    conn.query(q)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 558, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 822, in _read_query_result\n    result.read()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 1200, in read\n    first_packet = self.connection._read_packet()\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 739, in _read_packet\n    packet_header = self._read_bytes(4)\n  File \"\/layers\/paketo-buildpacks_pip-install\/packages\/lib\/python3.10\/site-packages\/pymysql\/connections.py\", line 795, in _read_bytes\n    raise err.OperationalError(\nsqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')\n[SQL: SELECT users.uuid_user AS users_uuid_user, users.user AS users_user, users.password AS users_password, users.rol_uuid AS users_rol_uuid, users.is_active AS users_is_active, users.last_connection AS users_last_connection, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.user = %(user_1)s]\n[parameters: {'user_1': 'ruben1'}]\n(Background on this error at: https:\/\/sqlalche.me\/e\/20\/e3q8)\n\nsrc\/test\/java\/teachers\/post\/..\/..\/user\/token\/users-token-post.feature:9\nsrc\/test\/java\/teachers\/post\/teacher-post.feature:4","tags":["createstudents"],"executorName":"main","name":"Post on teachers","startTime":1709598926289,"refId":"[1:13]","endTime":1709598927679,"exampleIndex":-1}],"callDepth":0,"name":"Post teachers on request","description":"","resultDate":"2024-03-04 07:35:27 p.\u202Fm.","durationMillis":1374.3321,"passedCount":0}